<div class="detail-container">
  @if (pollution) {
    <div class="detail-card">
      <div class="header">
        <h2>R√©capitulatif de la D√©claration</h2>
        <div class="success-badge">
          <span class="icon">‚úì</span>
          D√©claration enregistr√©e avec succ√®s
        </div>
      </div>

      <!-- Photo Section (if exists) -->
      @if (pollution.photoUrl) {
        <div class="photo-section">
          <img [src]="pollution.photoUrl" alt="Photo de la pollution" />
        </div>
      }

      <!-- Informations g√©n√©rales -->
      <div class="section">
        <div class="section-header">
          <h3>Informations g√©n√©rales</h3>
        </div>
        <div class="section-content">
          <div class="info-grid">
            <div class="info-item">
              <label for="title">Titre :</label>
              <span id="title">{{ pollution.titre }}</span>
            </div>
            <div class="info-item">
              <label for="type-badge">Type de pollution :</label>
              <span class="type-badge" [class]="'type-' + pollution.type.toLowerCase()">
                {{ pollution.type }}
              </span>
            </div>
            <div class="info-item">
              <label for="date">Date d'observation :</label>
              <span id="date">{{ pollution.dateObservation | date: 'medium' }}</span>
            </div>
            <div class="info-item">
              <label for="place">Lieu :</label>
              <span id="place">{{ pollution.lieu }}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Description -->
      <div class="section">
        <div class="section-header">
          <h3>Description</h3>
        </div>
        <div class="section-content">
          <p class="description-text">{{ pollution.description }}</p>
        </div>
      </div>

      <!-- Localisation -->
      <div class="section">
        <div class="section-header">
          <h3>Localisation</h3>
        </div>
        <div class="section-content">
          <div class="info-grid">
            <div class="info-item full-width">
              <label for="coordinates">Coordonn√©es GPS :</label>
              <span class="coordinates" id="coordinates">{{ pollution.latitude }}, {{ pollution.longitude }}</span>
            </div>
            <div class="info-item">
              <label for="latitude">Latitude :</label>
              <span id="latitude">{{ pollution.latitude }}</span>
            </div>
            <div class="info-item">
              <label for="longitude">Longitude :</label>
              <span id="longitude">{{ pollution.longitude }}</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Prochaines √©tapes -->
      <div class="section next-steps">
        <div class="section-header">
          <h3>Prochaines √©tapes</h3>
        </div>
        <div class="section-content">
          <ul class="steps-list">
            <li>Votre d√©claration sera transmise aux autorit√©s comp√©tentes</li>
            <li>Un num√©ro de suivi vous sera attribu√© par email</li>
            <li>Vous serez inform√©(e) des actions entreprises</li>
          </ul>
        </div>
      </div>

      <!-- Actions -->
      <div class="actions">
        <button class="btn btn-secondary" routerLink="/pollutions/list">‚Üê Retour</button>
        <button class="btn btn-warning" [routerLink]="['/pollutions/edit', pollution.id]">‚úèÔ∏è √âditer</button>
        <button class="btn btn-danger" (click)="deletePollution()">üóëÔ∏è Supprimer</button>
      </div>
    </div>
  } @else if (loading) {
    <div class="loading-state">
      <div class="spinner"></div>
      <p>Chargement des d√©tails...</p>
    </div>
  } @else {
    <div class="error-state">
      <p>‚ùå Pollution non trouv√©e</p>
      <button class="btn btn-primary" routerLink="/pollutions/list">Retour √† la liste</button>
    </div>
  }
</div>
